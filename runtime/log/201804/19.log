---------------------------------------------------------------
[ 2018-04-19T09:09:44+08:00 ] ::1 ::1 GET /blog/admin/article/article.html
[ info ] localhost/blog/admin/article/article.html [运行时间：0.053940s][吞吐率：18.54req/s] [内存消耗：1,804.71kb] [文件加载：48]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/mood/mood.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] D:\B\AppServ\www\blog\thinkphp\tpl\dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T09:09:45+08:00 ] ::1 ::1 GET /blog/admin/login/login.html
[ info ] localhost/blog/admin/login/login.html [运行时间：0.096671s][吞吐率：10.34req/s] [内存消耗：1,776.70kb] [文件加载：47]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\login\login.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T09:09:51+08:00 ] ::1 ::1 POST /blog/admin/login/login
[ info ] localhost/blog/admin/login/login [运行时间：0.224005s][吞吐率：4.46req/s] [内存消耗：2,745.50kb] [文件加载：52]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '38',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'loginName' => 'hekun',
  'loginPassword' => 'hk000520',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002206s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003031s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `loginName` = 'hekun'  AND `status` = 1 LIMIT 1 [ RunTime:0.000734s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.002833s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 1 [ RunTime:0.000742s ]
[ sql ] [ SQL ] INSERT INTO `adminlog` (`aid` , `operation` , `info` , `IP` , `operationStatus`) VALUES (1 , '1' , '登录成功!正在跳转……' , '0.0.0.0' , 1) [ RunTime:0.082381s ]
[ sql ] [ SQL ] UPDATE `admin`  SET `lastLoginTime`='2018-04-19 09:09:51'  WHERE  `loginName` = 'hekun' [ RunTime:0.055779s ]
[ sql ] [ SQL ] UPDATE `admin`  SET `numberOfLogin`=numberOfLogin+1  WHERE  `loginName` = 'hekun' [ RunTime:0.032270s ]
---------------------------------------------------------------
[ 2018-04-19T09:09:52+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.148585s][吞吐率：6.73req/s] [内存消耗：2,601.43kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010953s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000641s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000452s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003269s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001066s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000345s ]
---------------------------------------------------------------
[ 2018-04-19T09:09:53+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.103038s][吞吐率：9.71req/s] [内存消耗：2,519.56kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010427s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001309s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000662s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001331s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002291s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000340s ]
---------------------------------------------------------------
[ 2018-04-19T09:09:54+08:00 ] ::1 ::1 GET /blog/admin/article/article.html
[ info ] localhost/blog/admin/article/article.html [运行时间：0.201923s][吞吐率：4.95req/s] [内存消耗：3,171.47kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002234s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001621s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000728s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000688s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000390s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.000428s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000619s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000639s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000417s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.038128s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000696s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000357s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000362s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000468s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000372s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.024884s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000240s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000398s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000248s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000712s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000372s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000375s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000360s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000367s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000242s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000228s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000244s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000256s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.001287s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 0,6 [ RunTime:0.004818s ]
---------------------------------------------------------------
[ 2018-04-19T09:09:56+08:00 ] ::1 ::1 GET /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.275877s][吞吐率：3.62req/s] [内存消耗：3,156.21kb] [文件加载：59]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\add\addarticle.html [ array (
  0 => 'conf',
  1 => 'cate',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011680s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.116358s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001226s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000616s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.004457s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000140s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.001295s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000905s ]
---------------------------------------------------------------
[ 2018-04-19T09:30:46+08:00 ] ::1 ::1 GET /blog/article?aid=1
[ info ] localhost/blog/article?aid=1 [运行时间：0.268887s][吞吐率：3.72req/s] [内存消耗：3,045.49kb] [文件加载：58]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/article/article/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/home',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Article->article[ D:\B\AppServ\www\blog\application\index\controller\Article.php ]
[ info ] [ CACHE ] INIT file
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\article\article.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
  9 => 'comment',
  10 => 'ad',
  11 => 'am',
  12 => 'upA',
  13 => 'downA',
  14 => 'cateHeat',
  15 => 'aid',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002946s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001208s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000795s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.000945s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.000703s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleClicks`=articleClicks+1  WHERE  `articleId` = 1 [ RunTime:0.056450s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT `c`.*,`u`.`userName` FROM `comment` `c` INNER JOIN `user` `u` ON `u`.`userId`=`c`.`commentAtor` WHERE  `c`.`status` = 1  AND `c`.`commentArticleid` = '1' ORDER BY addTime desc [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT `a`.*,`u`.`userName`,`c`.`cateName`,`c`.`cateId` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `articleId` = 1 LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` WHERE  `articleCate` = 12  AND `articleId` > 1 ORDER BY articleId asc LIMIT 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` WHERE  `articleCate` = 12  AND `articleId` < 1 ORDER BY articleId desc LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1  AND `articleCate` = 12 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000525s ]
---------------------------------------------------------------
[ 2018-04-19T09:30:47+08:00 ] ::1 ::1 GET /blog/index/index/time.html
[ info ] localhost/blog/index/index/time.html [运行时间：0.071350s][吞吐率：14.02req/s] [内存消耗：2,736.10kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/article?aid=1',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->time[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\time.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002621s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001411s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000868s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.001337s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.001035s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000450s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000591s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.001820s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001172s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000597s ]
---------------------------------------------------------------
[ 2018-04-19T09:32:15+08:00 ] ::1 ::1 POST /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.304722s][吞吐率：3.28req/s] [内存消耗：3,014.65kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27703',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryqdAOfv2fv1jMHDNf',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => '',
  'slider' => '0',
  'saveImg' => '0',
  'overt' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010671s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001130s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000736s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000728s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.004050s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000928s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000386s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000209s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000373s ]
[ error ] [0]数据表字段不存在:[saveImg][D:\B\AppServ\www\blog\thinkphp\library\think\db\Builder.php:109]
---------------------------------------------------------------
[ 2018-04-19T09:33:36+08:00 ] ::1 ::1 POST /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.099562s][吞吐率：10.04req/s] [内存消耗：2,958.16kb] [文件加载：53]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27703',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryqdAOfv2fv1jMHDNf',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => '',
  'slider' => '0',
  'saveImg' => '0',
  'overt' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001586s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001752s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000638s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001432s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001001s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000596s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001081s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000998s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000512s ]
---------------------------------------------------------------
[ 2018-04-19T09:50:04+08:00 ] ::1 ::1 POST /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.054477s][吞吐率：18.36req/s] [内存消耗：2,942.23kb] [文件加载：53]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27703',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryqdAOfv2fv1jMHDNf',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => '',
  'slider' => '0',
  'saveImg' => '0',
  'overt' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001713s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001176s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000714s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000171s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000093s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000517s ]
---------------------------------------------------------------
[ 2018-04-19T09:50:22+08:00 ] ::1 ::1 POST /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.059721s][吞吐率：16.74req/s] [内存消耗：2,942.09kb] [文件加载：53]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27703',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryqdAOfv2fv1jMHDNf',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => '',
  'slider' => '0',
  'saveImg' => '0',
  'overt' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001744s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001214s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000631s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002431s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000456s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000641s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000257s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.001223s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000517s ]
---------------------------------------------------------------
[ 2018-04-19T09:50:43+08:00 ] ::1 ::1 POST /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.066761s][吞吐率：14.98req/s] [内存消耗：3,014.45kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27703',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryqdAOfv2fv1jMHDNf',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => '',
  'slider' => '0',
  'saveImg' => '0',
  'overt' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010726s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002086s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000632s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000760s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000181s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000102s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000413s ]
[ error ] [0]数据表字段不存在:[saveImg][D:\B\AppServ\www\blog\thinkphp\library\think\db\Builder.php:109]
---------------------------------------------------------------
[ 2018-04-19T09:52:53+08:00 ] ::1 ::1 POST /blog/admin/add/addarticle.html
[ info ] localhost/blog/admin/add/addarticle.html [运行时间：0.161459s][吞吐率：6.19req/s] [内存消耗：3,142.77kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'add',
    2 => 'addarticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27703',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryqdAOfv2fv1jMHDNf',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => '',
  'slider' => '0',
  'saveImg' => '0',
  'overt' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Add->addArticle[ D:\B\AppServ\www\blog\application\admin\controller\Add.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog\thinkphp\tpl\dispatch_jump.tpl [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'code',
  3 => 'msg',
  4 => 'data',
  5 => 'url',
  6 => 'wait',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010955s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001747s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000701s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001205s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002585s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002498s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000676s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001139s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000577s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000374s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] INSERT INTO `article` (`articleTitle` , `articleContent` , `articleKeywords` , `articleDescription` , `articleCate` , `articleTags` , `slider` , `saveImg` , `overt` , `ator`) VALUES (' php代码优化方法，加速运行速度的技巧总结' , '<p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">1. 尽量采用大量的PHP内置函数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">2. echo 比 print 快。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">15. 打开apache的mod_deflate模块。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">16. 数据库连接当使用完毕时应关掉。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">18. 错误消息代价昂贵。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">Ex.（举例如下）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">vs.（与下面的技巧做比较）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">查看源代码打印帮助1</span><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);\"></span><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">获得高性能</p><p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">[/php]</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">瓶颈</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(a) 网络</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(b) CPU</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(c) 共享存储</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(d) 文件系统</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(e) 进程管理</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">用于收取邮件的sendmail模块</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">NFS的映射表</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">xfs，fvwm，xinit，X</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(f) 连接到其他服务器</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>' , 'php' , '' , 6 , '' , 0 , '0' , 1 , 1) [ RunTime:0.080719s ]
---------------------------------------------------------------
[ 2018-04-19T09:52:54+08:00 ] ::1 ::1 GET /blog/admin/article/article.html
[ info ] localhost/blog/admin/article/article.html [运行时间：0.128215s][吞吐率：7.80req/s] [内存消耗：3,179.34kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/add/addarticle.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001693s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001132s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000833s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000369s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000226s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000240s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000220s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000395s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000401s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000242s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000567s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000408s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000234s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000171s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000209s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000231s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000221s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000235s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000181s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000368s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000166s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000389s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000213s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000151s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000197s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000158s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000150s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000161s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000183s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000194s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000196s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000183s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000188s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000173s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000183s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000183s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000186s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000246s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000188s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000277s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000471s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000427s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000168s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000168s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000171s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000181s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000249s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000215s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 0,6 [ RunTime:0.004014s ]
---------------------------------------------------------------
[ 2018-04-19T09:52:56+08:00 ] ::1 ::1 GET /blog/admin/article/article.html?page=7
[ info ] localhost/blog/admin/article/article.html?page=7 [运行时间：0.201521s][吞吐率：4.96req/s] [内存消耗：3,158.91kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'page' => '7',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001474s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.024862s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000864s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001359s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000682s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000360s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000674s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000662s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.001956s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000582s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000334s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000625s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000260s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000498s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000488s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000431s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000369s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000319s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.001170s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000277s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000465s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000460s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000371s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000428s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000496s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000712s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000243s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.015270s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000436s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000382s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 36,6 [ RunTime:0.002266s ]
---------------------------------------------------------------
[ 2018-04-19T09:52:58+08:00 ] ::1 ::1 GET /blog/admin/update/updatearticle/articleId/42.html
[ info ] localhost/blog/admin/update/updatearticle/articleId/42.html [运行时间：0.143206s][吞吐率：6.98req/s] [内存消耗：3,049.40kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'update',
    2 => 'updatearticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html?page=7',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleId' => '42',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Update->updateArticle[ D:\B\AppServ\www\blog\application\admin\controller\Update.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\update\updatearticle.html [ array (
  0 => 'conf',
  1 => 'article',
  2 => 'cate',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001250s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001444s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000638s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000420s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002407s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001445s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000227s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `articleId` = 42 LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000904s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000662s ]
---------------------------------------------------------------
[ 2018-04-19T09:53:10+08:00 ] ::1 ::1 POST /blog/admin/update/updatearticle/articleId/42.html
[ info ] localhost/blog/admin/update/updatearticle/articleId/42.html [运行时间：0.232920s][吞吐率：4.29req/s] [内存消耗：3,301.44kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'update',
    2 => 'updatearticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '27822',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryCEBAi2smTx05G2dp',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/update/updatearticle/articleId/42.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleId' => '42',
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => 'php',
  'slider' => '0',
  'overt' => '1',
  'addTime' => '2018-04-19 09:52:53',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Update->updateArticle[ D:\B\AppServ\www\blog\application\admin\controller\Update.php ]
[ info ] [ CACHE ] INIT file
[ info ] [ VIEW ] D:\B\AppServ\www\blog\thinkphp\tpl\dispatch_jump.tpl [ array (
  0 => 'conf',
  1 => 'article',
  2 => 'cate',
  3 => 'code',
  4 => 'msg',
  5 => 'data',
  6 => 'url',
  7 => 'wait',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010753s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001028s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000463s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000659s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002912s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000578s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000171s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000092s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `articleId` = 42 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleTitle`=' php代码优化方法，加速运行速度的技巧总结',`articleKeywords`='php',`articleDescription`='',`articleCate`=6,`articleTags`='php',`slider`=0,`overt`=1,`addTime`='2018-04-19 09:52:53',`articleContent`='<p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">1. 尽量采用大量的PHP内置函数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">2. echo 比 print 快。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">15. 打开apache的mod_deflate模块。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">16. 数据库连接当使用完毕时应关掉。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">18. 错误消息代价昂贵。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">Ex.（举例如下）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">vs.（与下面的技巧做比较）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">查看源代码打印帮助1</span><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);\"></span><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">获得高性能</p><p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">[/php]</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">瓶颈</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(a) 网络</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(b) CPU</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(c) 共享存储</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(d) 文件系统</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(e) 进程管理</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">用于收取邮件的sendmail模块</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">NFS的映射表</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">xfs，fvwm，xinit，X</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(f) 连接到其他服务器</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>'  WHERE  `articleId` = 42 [ RunTime:0.068112s ]
---------------------------------------------------------------
[ 2018-04-19T09:53:11+08:00 ] ::1 ::1 GET /blog/admin/article/article.html
[ info ] localhost/blog/admin/article/article.html [运行时间：0.153284s][吞吐率：6.52req/s] [内存消耗：3,179.20kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/update/updatearticle/articleId/42.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001554s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003671s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001104s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000435s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000409s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000658s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000487s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000372s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000440s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000393s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000375s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000381s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000408s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000468s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000373s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000334s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000372s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000420s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000435s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000419s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000471s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000231s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000209s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 0,6 [ RunTime:0.001640s ]
---------------------------------------------------------------
[ 2018-04-19T09:53:13+08:00 ] ::1 ::1 GET /blog/admin/article/article.html?page=7
[ info ] localhost/blog/admin/article/article.html?page=7 [运行时间：0.179886s][吞吐率：5.56req/s] [内存消耗：3,158.91kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'page' => '7',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002020s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003022s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001186s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000751s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000617s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000953s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000368s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000760s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000645s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000742s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000837s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000380s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000645s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000607s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000597s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000400s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.001022s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000734s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000372s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000239s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000591s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000468s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000382s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000357s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000795s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000440s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000412s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000371s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.001507s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 36,6 [ RunTime:0.003279s ]
---------------------------------------------------------------
[ 2018-04-19T09:53:14+08:00 ] ::1 ::1 GET /blog/admin/update/updatearticle/articleId/42.html
[ info ] localhost/blog/admin/update/updatearticle/articleId/42.html [运行时间：0.086164s][吞吐率：11.61req/s] [内存消耗：3,049.40kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'update',
    2 => 'updatearticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html?page=7',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleId' => '42',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Update->updateArticle[ D:\B\AppServ\www\blog\application\admin\controller\Update.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\update\updatearticle.html [ array (
  0 => 'conf',
  1 => 'article',
  2 => 'cate',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001103s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001131s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000623s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000673s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000435s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.005567s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001425s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000236s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000094s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `articleId` = 42 LIMIT 1 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.001154s ]
---------------------------------------------------------------
[ 2018-04-19T09:53:27+08:00 ] ::1 ::1 POST /blog/admin/update/updatearticle/articleId/42.html
[ info ] localhost/blog/admin/update/updatearticle/articleId/42.html [运行时间：0.214401s][吞吐率：4.66req/s] [内存消耗：3,397.53kb] [文件加载：65]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'update',
    2 => 'updatearticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '48728',
  'cache-control' => 'max-age=0',
  'origin' => 'http://localhost',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundary5oPx609yng4Y8z8I',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/update/updatearticle/articleId/42.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleId' => '42',
  'articleTitle' => ' php代码优化方法，加速运行速度的技巧总结',
  'articleKeywords' => 'php',
  'articleDescription' => '',
  'articleCate' => '6',
  'articleTags' => 'php',
  'slider' => '0',
  'overt' => '1',
  'addTime' => '2018-04-19 09:52:53',
  'articleContent' => '<p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">1. 尽量采用大量的PHP内置函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">2. echo 比 print 快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">15. 打开apache的mod_deflate模块。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">16. 数据库连接当使用完毕时应关掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">18. 错误消息代价昂贵。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">Ex.（举例如下）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">vs.（与下面的技巧做比较）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">查看源代码打印帮助1</span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);"></span><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);"><br/></p><p style="margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);">获得高性能</p><p><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">[/php]</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">瓶颈</span><br/><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(a) 网络</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(b) CPU</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(c) 共享存储</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(d) 文件系统</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(e) 进程管理</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">用于收取邮件的sendmail模块</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">NFS的映射表</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">xfs，fvwm，xinit，X</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">(f) 连接到其他服务器</span><br/><span style="box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Update->updateArticle[ D:\B\AppServ\www\blog\application\admin\controller\Update.php ]
[ info ] [ CACHE ] INIT file
[ info ] [ VIEW ] D:\B\AppServ\www\blog\thinkphp\tpl\dispatch_jump.tpl [ array (
  0 => 'conf',
  1 => 'article',
  2 => 'cate',
  3 => 'code',
  4 => 'msg',
  5 => 'data',
  6 => 'url',
  7 => 'wait',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002284s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001346s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001608s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000626s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002340s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000379s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `articleId` = 42 LIMIT 1 [ RunTime:0.000631s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `articleId` = 42 LIMIT 1 [ RunTime:0.001051s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleTitle`=' php代码优化方法，加速运行速度的技巧总结',`articleKeywords`='php',`articleDescription`='',`articleCate`=6,`articleTags`='php',`slider`=0,`overt`=1,`addTime`='2018-04-19 09:52:53',`articleContent`='<p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">1. 尽量采用大量的PHP内置函数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">2. echo 比 print 快。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">3. 不要把方法细分得过多，仔细想想你真正打算重用的是哪些代码？</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">4. 在执行for循环之前确定最大循环数，不要每循环一次都计算最大值。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">5. 注销那些不用的变量尤其是大数组，以便释放内存。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">6. 并非要用类实现所有的数据结构，数组也很有用。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">7. $row[&#39;id&#39;]的效率是$row[id]的7倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">8. 在包含文件时使用完整路径，解析操作系统路径所需的时间会更少。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">9. 如果你想知道脚本开始执行（译注：即服务器端收到客户端请求）的时刻，使用$_SERVER[‘REQUEST_TIME’]要好于time()。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">10. 检查是否能用strncasecmp，strpbrk，stripos函数代替正则表达式完成相同功能。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">11. str_replace函数比preg_replace函数快，但strtr函数的效率是str_replace函数的四倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">12. 如果一个字符串替换函数，可接受数组或字符作为参数，并且参数长度不太长，那么可以考虑额外写一段替换代码，使得每次传递参数是一个字符，而不是只写一行代码接受数组作为查询和替换的参数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">13. 使用选择分支语句（译注：即switch case）好于使用多个if，else if语句。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">14. 用@屏蔽错误消息的做法非常低效。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">15. 打开apache的mod_deflate模块。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">16. 数据库连接当使用完毕时应关掉。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">18. 错误消息代价昂贵。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">19. 尽量不要在for循环中使用函数，比如for ($x=0; $x &lt; count($array); $x)每循环一次都会调用count()函数。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">20. 在方法中递增局部变量，速度是最快的。几乎与在函数中调用局部变量的速度相当。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">21. 递增一个全局变量要比递增一个局部变量慢2倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">22. 递增一个对象属性（如：$this-&gt;prop++）要比递增一个局部变量慢3倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">23. 递增一个未预定义的局部变量要比递增一个预定义的局部变量慢9至10倍。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">24. 仅定义一个局部变量而没在函数中调用它，同样会减慢速度（其程度相当于递增一个局部变量）。PHP大概会检查看是否存在全局变量。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">25. 方法调用看来与类中定义的方法的数量无关，因为我（在测试方法之前和之后都）添加了10个方法，但性能上没有变化。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">26. 派生类中的方法运行起来要快于在基类中定义的同样的方法。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">27. 调用带有一个参数的空函数，其花费的时间相当于执行7至8次的局部变量递增操作。类似的方法调用所花费的时间接近于15次的局部变量递增操作。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">28. 用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会。当然，只有当你不需要在字符串中包含变量时才可以这么做。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">29. 用echo 输出多个字符串时，用逗号代替句点来分隔字符串，速度更快。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">30. Apache解析一个PHP脚本的时间要比解析一个静态HTML页面慢2至10倍。尽量多用静态HTML页面，少用脚本。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">31. 除非脚本可以缓存，否则每次调用时都会重新编译一次。引入一套PHP缓存机制通常可以提升25%至100%的性能，以免除编译开销。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">32. 尽量做缓存，可使用memcached。memcached是一款高性能的内存对象缓存系统，可用来加速动态Web应用程序，减轻数据库负载。对运算码(OP code)的缓存很有用，使得脚本不必为每个请求做重新编译。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">33. 当操作字符串并需要检验其长度是否满足某种要求时，你想当然地会使用strlen()函数。此函数执行起来相当快，因为它不做任何计算，只返回在zval 结构（C的内置数据结构，用于存储PHP变量）中存储的已知字符串长度。但是，由于strlen()是函数，多多少少会有些慢，因为函数调用会经过诸多步骤，如字母小写化（译注：指函数名小写化，PHP不区分函数名大小写）、哈希查找，会跟随被调用的函数一起执行。在某些情况下，你可以使用isset() 技巧加速执行你的代码。</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">Ex.（举例如下）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">[phpif (strlen($foo) &lt; 5) { echo &quot;Foo is too short&quot;; }[/php]</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">vs.（与下面的技巧做比较）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">查看源代码打印帮助1</span><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: pre; background-color: rgb(255, 255, 255);\"></span><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">if (!isset($foo{5})) { echo &quot;Foo is too short&quot;; }</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">调用isset()恰巧比strlen()快，因为与后者不同的是，isset()作为一种语言结构，意味着它的执行不需要函数查找和字母小写化。也就是说，实际上在检验字符串长度的顶层代码中你没有花太多开销。</p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">34. 当执行变量$i的递增或递减时，$i++会比++$i慢一些。这种差异是PHP特有的，并不适用于其他语言，所以请不要修改你的C或Java代码并指望它们能立即变快，没用的。++$i更快是因为它只需要3条指令(opcodes)，$i++则需要4条指令。后置递增实际上会产生一个临时变量，这个临时变量随后被递增。而前置递增直接在原值上递增。这是最优化处理的一种，正如Zend的PHP优化器所作的那样。牢记这个优化处理不失为一个好主意，因为并不是所有的指令优化器都会做同样的优化处理，并且存在大量没有装配指令优化器的互联网服务提供商（ISPs）和服务器。</p><p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">35. 并不是事必面向对象(OOP)，面向对象往往开销很大，每个方法和对象调用都会消耗很多内存。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">36. 如果在代码中存在大量耗时的函数，你可以考虑用C扩展的方式实现它们。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">37. 评估检验(profile)你的代码。检验器会告诉你，代码的哪些部分消耗了多少时间。Xdebug调试器包含了检验程序，评估检验总体上可以显示出代码的瓶颈。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">38. mod_zip可作为Apache模块，用来即时压缩你的数据，并可让数据传输量降低80%</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">PHP是一种执行起来非常迅速的编程语言，但是比起仅仅优化代码来说仍然值得优化PHP本身。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">本文我们将根据一些实效阐述为什么优化PHP本身要比优化代码来的更贴切，以及为什么需要理解根据PHP在你的服务器上其他相关子系统的表现找出瓶颈并修复之。与此同时，我们也提到了如何优化您的PHP代码来让他们拥有更快的执行速度。</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 16px; padding: 0px; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); line-height: 26px; text-align: justify; word-wrap: break-word; word-break: normal; white-space: normal; widows: 1; font-family: Arial; background-color: rgb(255, 255, 255);\">获得高性能</p><p><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">当我们谈及好的性能，往往不仅仅是指您的PHP代码执行起来有多快。性能是一套在可量化评测和速度之间取出的平衡。仅仅依靠使用更少资源的代码执行起来也许比在高速缓存中之行的代码更慢，并且相同的一组（在高速缓冲中执行的）代码可以在同时并发执行在一台Web服务器上。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">在下面的例子中，A.php算作一位尽可能跑得快的赛跑选手，而B.php是一个几乎可以以同一慢速永远跑下去的马拉松选手。轻负荷情况下，A.php可以充分的快，但是当流量增加后，B.php的性能表现将仅仅降低一点点而A.php会垮掉。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">让我们来通过一个事实来验证此说法更深远的本质意义。假设我们需要读取一个250K的文件并生成一个关于此文件的HTML概要。我们写了两个脚本来做同样一件事：hare.php将一次性读取整个文件到内存中，然后一步执行到位；而tortoise.php每次只读取文件的一行，并且决不超过内容容量。结果Tortoise.php因为多次读写需要更多的系统回应而慢得多。”</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">程序每执行一次，hare.php需要0.04秒CPU执行时间和10Mb的内存，而tortoise.php需要0.06秒CPU执行时间和5Mb 的内存。服务器共有100Mb实际内存容量并且其CPU有99%是空闲的。我们同时假定执行这样一个简单事件不产生内存碎片。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">当有10各程序并发执行时，hare.php将发生内存溢出（10 ×10 = 100）。与此同时，tortoise.php仍将有50Mb空余内存可用！11个程序并发执行将使hare.php彻底“溃败”因为它开始需要使用虚拟内存——执行速度有可能降低到其常规速度的一半以下；而且现在每一个单独程序进程需要0.08秒CPU执行时间。而此期间，tortoise.php仍旧运行在其常规CPU执行时间——0.06秒！</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">以下表格中，执行得更快的PHP脚本使用粗体区分开来：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">[/php]</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如您在上例中看到的，获得更好的性能不再仅仅是写出执行起来更快的PHP程序。高性能PHP表现需要对底层硬件知识以及操作系统、软件支持如Web服务器、数据库等有一个良好认识和理解。</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">瓶颈</span><br/><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">以上两个例子让我们看到了(性能)下降的瓶颈所在。当拥有无限大容量的内存时，hare.php的确是始终比tortoise.php快。但是，仅仅认为内存是PHP整体性能的瓶颈所在显得过于单纯——实际上远不止这些：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(a) 网络</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">你的网络有可能是最大的瓶颈所在。如果你有10M的带宽——最多你只能获得1M/秒的传输速度。如果假设每个PHP页为30k，那么每秒仅仅只传输 33页就将使你的网络带宽达到饱和。更多导致瓶颈产生的因素包括频繁访问低速DNS，或者网络设备仅能获得十分有限的存储。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(b) CPU</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如果你监视一下你的CPU负荷情况，发送一个纯静态HTML页面并不会增加CPU负担——就像我们以上提到的，此时瓶颈在于网络。当然啦，对于由 PHP生成的复杂动态页面，你的CPU速度自然将成为限制因素之一。拥有包含多个CPU的服务器或者一个服务器阵列将减轻因CPU带来的影响。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(c) 共享存储</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">共享存储主要在通讯进程中发挥作用，或者是用于储存公共资源（比如多个CPU间的缓存数据或代码）。如果共享存储分配不足，同样将导致瓶颈的发生。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(d) 文件系统</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">访问硬盘的速度至少比直接读取内存要慢50到100倍。使用高速缓存将使情况有所好转。然而低内存空间将适用于文件缓冲的内存（通常称为虚拟内存）空间减少，进而导致整体性能下降。虚拟内存容易产生大量文件碎片，导致访问硬盘速度下降。在Unix系统上使用大量链接标记同样也会石访问硬盘的速度下降。缺省Linux安装模式下的默认硬盘访问设置也是很不被看好的，因为它是为了兼容性而不是速度。必要时请使用hdparm命令来更改Linux硬盘配置。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(e) 进程管理</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">在某些操作系统上（比如说Windows系统）创建一个新的进程是很缓慢的操作。这意味着在这些操作系统上作涉及到进程创建的CGI应用会慢许多。这种时候在多进程模式下运行PHP将会有所改善。（注意：老版本PHP尚不支持多进程模式）</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">应避免你的服务器产生过多的无效进程。举个例子，如果你的服务器是纯Web服务，需关闭（设置是不安装）X-Windows窗口系统。Windows系统上，应禁用微软快速搜索（Office的一部分）和第三方屏保程序（通常会需要100%的CPU利用）。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">有些程序你可以考虑删除包括一些不常用的网络协议、邮件服务、病毒扫描、（鼠标，红外线端口）驱动程序等。Unix系统上，假定你通过SSH访问你的服务器，那么你可以考虑去除：</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">telnetd,inetd,atd,ftpd,lpd,sambad模块</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">用于收取邮件的sendmail模块</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">NFS的映射表</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">xfs，fvwm，xinit，X</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">你也可以通过修改启动脚本（其路径通常位于/etc/init* 或 /etc/rc*/init*）来实现禁用不同的启动程序。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">也可以检查一下定期处理任务安排是否合理，看是否可以在服务器空闲期执行。</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">(f) 连接到其他服务器</span><br/><span style=\"box-sizing: border-box; widows: 1; color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; background-color: rgb(255, 255, 255);\">如果你的服务器需要其他服务器提供的服务，此时有可能是其他服务器产生了瓶颈。最常见的就是一个很慢的执行诸多复杂查询的数据库服务器服务于很多其他服务器。</span></p><p><br/></p>',`articlePic`='admin/Upload/20180419/4f827ae6d991dc05f55bb3df874c81d9.jpg'  WHERE  `articleId` = 42 [ RunTime:0.051705s ]
[ error ] [2]unlink(D:/B/AppServ/www/blog/public/static/): Permission denied[D:\B\AppServ\www\blog\application\admin\model\Article.php:16]
---------------------------------------------------------------
[ 2018-04-19T09:53:31+08:00 ] ::1 ::1 GET /blog/admin/article/article.html
[ info ] localhost/blog/admin/article/article.html [运行时间：0.136997s][吞吐率：7.30req/s] [内存消耗：3,179.20kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/update/updatearticle/articleId/42.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001222s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.004157s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000457s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000957s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000729s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000408s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000396s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000389s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000400s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.000397s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000393s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000410s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000364s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000453s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000387s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000609s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000393s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000357s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000334s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000341s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000372s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000381s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000426s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000260s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 0,6 [ RunTime:0.002135s ]
---------------------------------------------------------------
[ 2018-04-19T09:54:33+08:00 ] ::1 ::1 GET /blog/admin/article/article.html?page=7
[ info ] localhost/blog/admin/article/article.html?page=7 [运行时间：0.138264s][吞吐率：7.23req/s] [内存消耗：3,159.11kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'page' => '7',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001425s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002659s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001083s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.001242s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000178s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000230s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000145s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000235s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000236s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000231s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000319s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000460s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000381s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000389s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000403s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000374s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000450s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000650s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000262s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000403s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000262s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000219s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000227s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000215s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000183s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000201s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000172s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000180s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000206s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000197s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000182s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000388s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000570s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000404s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000701s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000969s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 36,6 [ RunTime:0.002872s ]
---------------------------------------------------------------
[ 2018-04-19T09:54:34+08:00 ] ::1 ::1 GET /blog/admin/update/updatearticle/articleId/42.html
[ info ] localhost/blog/admin/update/updatearticle/articleId/42.html [运行时间：0.084348s][吞吐率：11.86req/s] [内存消耗：3,256.07kb] [文件加载：59]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'update',
    2 => 'updatearticle',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html?page=7',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'articleId' => '42',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Update->updateArticle[ D:\B\AppServ\www\blog\application\admin\controller\Update.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\update\updatearticle.html [ array (
  0 => 'conf',
  1 => 'article',
  2 => 'cate',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010562s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002047s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000676s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000937s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.004004s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002415s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000286s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `articleId` = 42 LIMIT 1 [ RunTime:0.000742s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000408s ]
---------------------------------------------------------------
[ 2018-04-19T10:12:33+08:00 ] ::1 ::1 GET /blog/admin/article/article.html
[ info ] localhost/blog/admin/article/article.html [运行时间：0.270219s][吞吐率：3.70req/s] [内存消耗：3,179.20kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/update/updatearticle/articleId/42.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004174s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003715s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000969s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000627s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000401s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000401s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000384s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000401s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000390s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000427s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000468s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000388s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000395s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000400s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000425s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000601s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000417s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000380s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000355s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000356s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000247s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000257s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000241s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000257s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 0,6 [ RunTime:0.006384s ]
---------------------------------------------------------------
[ 2018-04-19T10:12:36+08:00 ] ::1 ::1 GET /blog/admin/article/article.html?page=7
[ info ] localhost/blog/admin/article/article.html?page=7 [运行时间：0.161990s][吞吐率：6.17req/s] [内存消耗：3,159.11kb] [文件加载：61]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=m3epohjhp3q37ucee40r01boh1; cpuser_1_39=1',
)
[ info ] [ PARAM ] array (
  'page' => '7',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\admin\controller\Article->article[ D:\B\AppServ\www\blog\application\admin\controller\Article.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\article\article.html [ array (
  0 => 'articleData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002290s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002922s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 32 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 32 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 38 LIMIT 1 [ RunTime:0.000236s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 38 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 25 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 25 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 30 LIMIT 1 [ RunTime:0.000222s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 30 [ RunTime:0.000656s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 31 LIMIT 1 [ RunTime:0.001072s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 31 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 33 LIMIT 1 [ RunTime:0.000581s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 33 [ RunTime:0.000452s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 35 LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 35 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 36 LIMIT 1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 36 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 39 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 39 [ RunTime:0.000260s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 40 LIMIT 1 [ RunTime:0.000190s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 40 [ RunTime:0.000205s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 41 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 41 [ RunTime:0.000398s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 42 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 42 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 9 LIMIT 1 [ RunTime:0.000987s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 9 [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 10 LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 10 [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 12 LIMIT 1 [ RunTime:0.000801s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 12 [ RunTime:0.000567s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 19 LIMIT 1 [ RunTime:0.000732s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 19 [ RunTime:0.000222s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 20 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 20 [ RunTime:0.000202s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 22 LIMIT 1 [ RunTime:0.000168s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 22 [ RunTime:0.000231s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 7 LIMIT 1 [ RunTime:0.000179s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 7 [ RunTime:0.000197s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 8 LIMIT 1 [ RunTime:0.000559s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 8 [ RunTime:0.001083s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 13 LIMIT 1 [ RunTime:0.000404s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 13 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 21 LIMIT 1 [ RunTime:0.000199s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 21 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 1 LIMIT 1 [ RunTime:0.000174s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=8  WHERE  `articleId` = 1 [ RunTime:0.000156s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 2 LIMIT 1 [ RunTime:0.000157s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=5  WHERE  `articleId` = 2 [ RunTime:0.000172s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 3 LIMIT 1 [ RunTime:0.000157s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 3 [ RunTime:0.000225s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 4 LIMIT 1 [ RunTime:0.000205s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=4  WHERE  `articleId` = 4 [ RunTime:0.000161s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 5 LIMIT 1 [ RunTime:0.000149s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 5 [ RunTime:0.000194s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 6 LIMIT 1 [ RunTime:0.000181s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=3  WHERE  `articleId` = 6 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 11 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 11 [ RunTime:0.000174s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 14 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 14 [ RunTime:0.000225s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 15 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 15 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 16 LIMIT 1 [ RunTime:0.000667s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 16 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 17 LIMIT 1 [ RunTime:0.000229s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 17 [ RunTime:0.000223s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 18 LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 18 [ RunTime:0.000202s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 24 LIMIT 1 [ RunTime:0.000186s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 24 [ RunTime:0.000193s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 29 LIMIT 1 [ RunTime:0.000207s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 29 [ RunTime:0.000181s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 34 LIMIT 1 [ RunTime:0.000157s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 34 [ RunTime:0.000141s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 37 LIMIT 1 [ RunTime:0.000218s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 37 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 23 LIMIT 1 [ RunTime:0.000199s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 23 [ RunTime:0.000170s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `commentArticleid` = 26 LIMIT 1 [ RunTime:0.000166s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleComments`=0  WHERE  `articleId` = 26 [ RunTime:0.000158s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] SELECT `a`.*,`c`.`cateName`,`u`.`userName` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `a`.`status` = '1' ORDER BY a.articleId asc LIMIT 36,6 [ RunTime:0.002519s ]
---------------------------------------------------------------
[ 2018-04-19T16:11:24+08:00 ] ::1 ::1 GET /blog/admin/article/article.html?page=7
[ info ] localhost/blog/admin/article/article.html?page=7 [运行时间：0.044280s][吞吐率：22.58req/s] [内存消耗：1,803.97kb] [文件加载：48]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'article',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
)
[ info ] [ PARAM ] array (
  'page' => '7',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] D:\B\AppServ\www\blog\thinkphp\tpl\dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T16:11:27+08:00 ] ::1 ::1 GET /blog/article?aid=1
[ info ] localhost/blog/article?aid=1 [运行时间：2.975198s][吞吐率：0.34req/s] [内存消耗：3,115.02kb] [文件加载：59]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/article/article/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\index\controller\Article->article[ D:\B\AppServ\www\blog\application\index\controller\Article.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\article\article.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
  9 => 'comment',
  10 => 'ad',
  11 => 'am',
  12 => 'upA',
  13 => 'downA',
  14 => 'cateHeat',
  15 => 'aid',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.021078s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.937764s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.001035s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.239637s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000582s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.285783s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.001394s ]
[ sql ] [ SQL ] UPDATE `config`  SET `visit`=visit+1  WHERE  `id` = 1 [ RunTime:0.395809s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.230166s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.001747s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.001969s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.001828s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.092150s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.001099s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.001356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.148453s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.040398s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.001334s ]
[ sql ] [ SQL ] UPDATE `article`  SET `articleClicks`=articleClicks+1  WHERE  `articleId` = 1 [ RunTime:0.224144s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.078294s ]
[ sql ] [ SQL ] SELECT `c`.*,`u`.`userName` FROM `comment` `c` INNER JOIN `user` `u` ON `u`.`userId`=`c`.`commentAtor` WHERE  `c`.`status` = 1  AND `c`.`commentArticleid` = '1' ORDER BY addTime desc [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT `a`.*,`u`.`userName`,`c`.`cateName`,`c`.`cateId` FROM `article` `a` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` WHERE  `articleId` = 1 LIMIT 1 [ RunTime:0.001273s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` WHERE  `articleCate` = 12  AND `articleId` > 1 ORDER BY articleId asc LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `articleId` FROM `article` WHERE  `articleCate` = 12  AND `articleId` < 1 ORDER BY articleId desc LIMIT 1 [ RunTime:0.000397s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1  AND `articleCate` = 12 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000838s ]
---------------------------------------------------------------
[ 2018-04-19T16:11:28+08:00 ] ::1 ::1 GET /blog/index/index/time.html
[ info ] localhost/blog/index/index/time.html [运行时间：0.178285s][吞吐率：5.61req/s] [内存消耗：2,774.85kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/article?aid=1',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->time[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\time.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003331s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.007858s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000937s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.005728s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000725s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.004096s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.004805s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000640s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002912s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000437s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000464s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002818s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.003973s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000479s ]
---------------------------------------------------------------
[ 2018-04-19T16:11:28+08:00 ] ::1 ::1 GET /blog/admin/login/login.html
[ info ] localhost/blog/admin/login/login.html [运行时间：0.127260s][吞吐率：7.86req/s] [内存消耗：1,776.57kb] [文件加载：47]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html?page=7',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\login\login.html [ array (
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T16:12:39+08:00 ] ::1 ::1 GET /blog/message
[ info ] localhost/blog/message [运行时间：0.255298s][吞吐率：3.92req/s] [内存消耗：3,026.72kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/message/message/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/article?aid=1',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\index\controller\Message->message[ D:\B\AppServ\www\blog\application\index\controller\Message.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\message\message.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001230s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002882s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.003125s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002888s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003501s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000619s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000734s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003673s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.003901s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 ORDER BY addTime desc [ RunTime:0.003269s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 ORDER BY addTime desc [ RunTime:0.000546s ]
---------------------------------------------------------------
[ 2018-04-19T16:12:40+08:00 ] ::1 ::1 GET /blog/index/index/time.html
[ info ] localhost/blog/index/index/time.html [运行时间：0.354233s][吞吐率：2.82req/s] [内存消耗：2,774.77kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/message',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->time[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\time.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.013684s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.007943s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.001219s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.007335s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.001155s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.007291s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.001121s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.007197s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.001703s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.001940s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.001641s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.007362s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.001159s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.007040s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.010589s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.001294s ]
---------------------------------------------------------------
[ 2018-04-19T16:58:15+08:00 ] ::1 ::1 GET /blog/log
[ info ] localhost/blog/log [运行时间：0.174882s][吞吐率：5.72req/s] [内存消耗：2,854.84kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/log/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/message',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->log[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\log.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001795s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003250s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002881s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.003217s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002999s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002610s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.003129s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002280s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000471s ]
---------------------------------------------------------------
[ 2018-04-19T16:58:16+08:00 ] ::1 ::1 GET /blog/captcha.html
[ info ] localhost/blog/captcha.html [运行时间：0.202975s][吞吐率：4.93req/s] [内存消耗：1,461.98kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:01:21+08:00 ] ::1 ::1 GET /blog/log
[ info ] localhost/blog/log [运行时间：0.093467s][吞吐率：10.70req/s] [内存消耗：3,009.54kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/log/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/message',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->log[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\log.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011832s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002739s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002193s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.003418s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002308s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002247s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000665s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002172s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002057s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000585s ]
---------------------------------------------------------------
[ 2018-04-19T17:01:22+08:00 ] ::1 ::1 GET /blog/captcha.html
[ info ] localhost/blog/captcha.html [运行时间：0.030086s][吞吐率：33.24req/s] [内存消耗：1,462.00kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:01:43+08:00 ] ::1 ::1 GET /blog/forget
[ info ] localhost/blog/forget [运行时间：0.110956s][吞吐率：9.01req/s] [内存消耗：2,857.52kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/forget/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->forget[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\forget.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011272s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003591s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002895s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002511s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000641s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002402s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000794s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000678s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002998s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000367s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002696s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002650s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000629s ]
---------------------------------------------------------------
[ 2018-04-19T17:02:15+08:00 ] ::1 ::1 GET /blog/forget
[ info ] localhost/blog/forget [运行时间：0.075493s][吞吐率：13.25req/s] [内存消耗：3,016.08kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/forget/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->forget[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\forget.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010840s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.004148s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000859s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002338s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.003334s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002816s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000456s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002156s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000400s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002124s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.001811s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000430s ]
---------------------------------------------------------------
[ 2018-04-19T17:02:47+08:00 ] ::1 ::1 GET /blog/forget
[ info ] localhost/blog/forget [运行时间：0.061105s][吞吐率：16.37req/s] [内存消耗：2,857.67kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/forget/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->forget[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\forget.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001018s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002881s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002131s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002097s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001992s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002089s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000212s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002121s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.001916s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000237s ]
---------------------------------------------------------------
[ 2018-04-19T17:02:57+08:00 ] ::1 ::1 GET /blog/re
[ info ] localhost/blog/re [运行时间：0.143306s][吞吐率：6.98req/s] [内存消耗：2,845.63kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/re/re/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/forget',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Re->re[ D:\B\AppServ\www\blog\application\index\controller\Re.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\re\re.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011248s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002521s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.003855s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000691s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.003559s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002696s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000664s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003775s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000452s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000594s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002427s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002624s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000498s ]
---------------------------------------------------------------
[ 2018-04-19T17:03:23+08:00 ] ::1 ::1 GET /blog/re
[ info ] localhost/blog/re [运行时间：0.113208s][吞吐率：8.83req/s] [内存消耗：3,005.94kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/re/re/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/forget',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Re->re[ D:\B\AppServ\www\blog\application\index\controller\Re.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\re\re.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011410s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003963s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000637s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.003875s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000870s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002916s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002397s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000636s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000950s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000747s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003030s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002767s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002284s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000495s ]
---------------------------------------------------------------
[ 2018-04-19T17:03:28+08:00 ] ::1 ::1 GET /blog/log
[ info ] localhost/blog/log [运行时间：0.076225s][吞吐率：13.12req/s] [内存消耗：2,854.59kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/log/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/re',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->log[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\log.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010564s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002626s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002254s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.004826s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000818s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002382s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002518s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002873s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.001954s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000526s ]
---------------------------------------------------------------
[ 2018-04-19T17:03:28+08:00 ] ::1 ::1 GET /blog/captcha.html
[ info ] localhost/blog/captcha.html [运行时间：0.026419s][吞吐率：37.85req/s] [内存消耗：1,462.00kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:05:13+08:00 ] ::1 ::1 GET /blog/home
[ info ] localhost/blog/home [运行时间：0.081772s][吞吐率：12.23req/s] [内存消耗：2,934.69kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/index/index/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\index.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
  9 => 'slider',
) ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001716s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002560s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002913s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000717s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002369s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002264s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003891s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002193s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002391s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000450s ]
[ sql ] [ SQL ] SELECT `a`.*,`u`.`userName`,`c`.`cateName`,`c`.`cateId` FROM `article` `a` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` WHERE  `a`.`status` = 1  AND `a`.`slider` = 1 ORDER BY a.addTime asc LIMIT 5 [ RunTime:0.002483s ]
---------------------------------------------------------------
[ 2018-04-19T17:05:13+08:00 ] ::1 ::1 GET /blog/index/index/time.html
[ info ] localhost/blog/index/index/time.html [运行时间：0.073321s][吞吐率：13.64req/s] [内存消耗：2,774.70kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/home',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->time[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\time.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001373s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003187s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000672s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.003077s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000559s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002909s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002686s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.001019s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003349s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002188s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.001941s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000296s ]
---------------------------------------------------------------
[ 2018-04-19T17:05:13+08:00 ] ::1 ::1 GET /blog/index/index/flow?page=1
[ info ] localhost/blog/index/index/flow?page=1 [运行时间：0.085773s][吞吐率：11.66req/s] [内存消耗：3,131.66kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'flow',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://localhost/blog/home',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->flow[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011411s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001393s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000570s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000928s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.001454s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.001225s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001193s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000643s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] SELECT `a`.*,`u`.`userName`,`c`.`cateName`,`c`.`cateId` FROM `article` `a` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` WHERE  `a`.`status` = 1 LIMIT 0,13 [ RunTime:0.001314s ]
---------------------------------------------------------------
[ 2018-04-19T17:05:25+08:00 ] ::1 ::1 GET /blog/log
[ info ] localhost/blog/log [运行时间：0.055980s][吞吐率：17.86req/s] [内存消耗：2,854.73kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/log/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/home',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Log->log[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\log.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001554s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001540s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.001169s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.000723s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000668s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000681s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000401s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000317s ]
---------------------------------------------------------------
[ 2018-04-19T17:05:25+08:00 ] ::1 ::1 GET /blog/captcha.html
[ info ] localhost/blog/captcha.html [运行时间：0.027348s][吞吐率：36.57req/s] [内存消耗：1,461.99kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:05:28+08:00 ] ::1 ::1 GET /blog/captcha.html?0.40247264461405696
[ info ] localhost/blog/captcha.html?0.40247264461405696 [运行时间：0.027563s][吞吐率：36.28req/s] [内存消耗：1,462.33kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  '0_40247264461405696' => '',
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:05:30+08:00 ] ::1 ::1 GET /blog/captcha.html?0.7321324927418305
[ info ] localhost/blog/captcha.html?0.7321324927418305 [运行时间：0.027136s][吞吐率：36.85req/s] [内存消耗：1,462.34kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  '0_7321324927418305' => '',
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:05:31+08:00 ] ::1 ::1 GET /blog/captcha.html?0.3823978051808392
[ info ] localhost/blog/captcha.html?0.3823978051808392 [运行时间：0.020768s][吞吐率：48.15req/s] [内存消耗：1,462.32kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  '0_3823978051808392' => '',
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:05:33+08:00 ] ::1 ::1 GET /blog/captcha.html?0.8784014988931996
[ info ] localhost/blog/captcha.html?0.8784014988931996 [运行时间：0.024103s][吞吐率：41.49req/s] [内存消耗：1,462.33kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  '0_8784014988931996' => '',
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:07:55+08:00 ] ::1 ::1 GET /blog/admin/login/login.html
[ info ] localhost/blog/admin/login/login.html [运行时间：0.143807s][吞吐率：6.95req/s] [内存消耗：1,968.70kb] [文件加载：53]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html?page=7',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\login\login.html [ array (
) ]
[ info ] [ LOG ] INIT File
[ error ] [8]未定义变量: conf[D:\B\AppServ\www\blog\runtime\temp\97630e1ef79fe6791964c3b0ff61c958.php:106]
---------------------------------------------------------------
[ 2018-04-19T17:08:45+08:00 ] ::1 ::1 GET /blog/admin/login/login.html
[ info ] localhost/blog/admin/login/login.html [运行时间：0.065176s][吞吐率：15.34req/s] [内存消耗：2,534.84kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/article/article.html?page=7',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\login\login.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011550s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002705s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000660s ]
---------------------------------------------------------------
[ 2018-04-19T17:09:12+08:00 ] ::1 ::1 POST /blog/admin/login/login
[ info ] localhost/blog/admin/login/login [运行时间：0.279010s][吞吐率：3.58req/s] [内存消耗：2,760.52kb] [文件加载：52]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '38',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'loginName' => 'hekun',
  'loginPassword' => 'hk000520',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010966s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002940s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.056797s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `loginName` = 'hekun'  AND `status` = 1 LIMIT 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.017179s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 1 [ RunTime:0.000487s ]
[ sql ] [ SQL ] INSERT INTO `adminlog` (`aid` , `operation` , `info` , `IP` , `operationStatus`) VALUES (1 , '1' , '登录成功!正在跳转……' , '0.0.0.0' , 1) [ RunTime:0.048290s ]
[ sql ] [ SQL ] UPDATE `admin`  SET `lastLoginTime`='2018-04-19 17:09:12'  WHERE  `loginName` = 'hekun' [ RunTime:0.054429s ]
[ sql ] [ SQL ] UPDATE `admin`  SET `numberOfLogin`=numberOfLogin+1  WHERE  `loginName` = 'hekun' [ RunTime:0.042857s ]
---------------------------------------------------------------
[ 2018-04-19T17:09:13+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.079738s][吞吐率：12.54req/s] [内存消耗：2,602.16kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010899s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001283s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000727s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.003109s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000633s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002456s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000416s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000755s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000341s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000319s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000426s ]
---------------------------------------------------------------
[ 2018-04-19T17:09:13+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.064751s][吞吐率：15.44req/s] [内存消耗：2,520.26kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001822s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002294s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002222s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002100s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001592s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000160s ]
---------------------------------------------------------------
[ 2018-04-19T17:09:24+08:00 ] ::1 ::1 GET /blog/admin/index/info?adminId=1
[ info ] localhost/blog/admin/index/info?adminId=1 [运行时间：0.064589s][吞吐率：15.48req/s] [内存消耗：2,514.79kb] [文件加载：52]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'info',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'adminId' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->info[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012391s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002145s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.005528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000579s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001138s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001192s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000699s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000474s ]
---------------------------------------------------------------
[ 2018-04-19T17:12:21+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.080489s][吞吐率：12.42req/s] [内存消耗：2,768.92kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001172s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001655s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000663s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.004212s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.004654s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000451s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000403s ]
---------------------------------------------------------------
[ 2018-04-19T17:12:21+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.070575s][吞吐率：14.17req/s] [内存消耗：2,520.27kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011117s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002167s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001977s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000401s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001679s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001069s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000267s ]
---------------------------------------------------------------
[ 2018-04-19T17:21:11+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.070838s][吞吐率：14.12req/s] [内存消耗：2,769.49kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001896s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001240s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000647s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002865s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.005042s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000218s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000275s ]
---------------------------------------------------------------
[ 2018-04-19T17:21:11+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.068273s][吞吐率：14.65req/s] [内存消耗：2,520.87kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001273s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002253s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.003790s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000586s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003100s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000389s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001066s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000357s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000347s ]
---------------------------------------------------------------
[ 2018-04-19T17:21:13+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.060798s][吞吐率：16.45req/s] [内存消耗：2,506.26kb] [文件加载：52]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003536s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001046s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000554s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002834s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000230s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002030s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001701s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000908s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001887s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000452s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000308s ]
---------------------------------------------------------------
[ 2018-04-19T17:24:51+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.070217s][吞吐率：14.24req/s] [内存消耗：2,771.45kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001455s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001373s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000651s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000468s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002491s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000279s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000347s ]
---------------------------------------------------------------
[ 2018-04-19T17:24:51+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.082151s][吞吐率：12.17req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001573s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001046s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000697s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002932s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.004214s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000427s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001369s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000721s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000376s ]
---------------------------------------------------------------
[ 2018-04-19T17:24:53+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.062056s][吞吐率：16.11req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000888s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.004133s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002845s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000981s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002147s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002063s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000229s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.005320s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000721s ]
---------------------------------------------------------------
[ 2018-04-19T17:26:21+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.071677s][吞吐率：13.95req/s] [内存消耗：2,771.47kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010499s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000440s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002145s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000953s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002419s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000395s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002074s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000277s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000457s ]
---------------------------------------------------------------
[ 2018-04-19T17:26:21+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.064551s][吞吐率：15.49req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010800s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000618s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000646s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001790s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001054s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000288s ]
---------------------------------------------------------------
[ 2018-04-19T17:26:23+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.080639s][吞吐率：12.40req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011971s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002537s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000591s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000594s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001127s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001741s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003174s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001369s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000559s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000180s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.002990s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000996s ]
---------------------------------------------------------------
[ 2018-04-19T17:31:34+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.075416s][吞吐率：13.26req/s] [内存消耗：2,771.55kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001444s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001495s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001425s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000639s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001269s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000331s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000340s ]
---------------------------------------------------------------
[ 2018-04-19T17:31:34+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.073267s][吞吐率：13.65req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011980s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001060s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000739s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001072s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000378s ]
---------------------------------------------------------------
[ 2018-04-19T17:31:38+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.077910s][吞吐率：12.84req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011149s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001457s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001102s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000634s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000613s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002831s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000739s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002603s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000648s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.004012s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000664s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:13+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.068421s][吞吐率：14.62req/s] [内存消耗：2,771.56kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001432s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001458s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000699s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002788s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000594s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003313s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000185s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000320s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:13+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.064799s][吞吐率：15.43req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001228s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001129s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000586s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.004190s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000417s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003434s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000453s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000234s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000157s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:14+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.072274s][吞吐率：13.84req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011914s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001319s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002075s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000440s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002066s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000464s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001499s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001895s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000744s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000283s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:22+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.091918s][吞吐率：10.88req/s] [内存消耗：2,604.80kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011969s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002187s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000631s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.004189s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000697s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003181s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000658s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001670s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000764s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003545s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000979s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000981s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:22+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.091513s][吞吐率：10.93req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010830s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000720s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001741s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001001s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000765s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001266s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000201s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:31+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.108302s][吞吐率：9.23req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011731s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001795s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000710s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000918s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001686s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001750s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003255s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001075s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000468s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.005699s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001371s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:53+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.088815s][吞吐率：11.26req/s] [内存消耗：2,771.56kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001387s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001197s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000734s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000357s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000229s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000381s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:54+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.101599s][吞吐率：9.84req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001561s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001737s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000595s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000680s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003614s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001500s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001116s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000739s ]
---------------------------------------------------------------
[ 2018-04-19T17:32:55+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.080291s][吞吐率：12.45req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003607s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001123s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000771s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001992s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000715s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003072s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001074s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000374s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.004412s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000620s ]
---------------------------------------------------------------
[ 2018-04-19T17:33:23+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.073595s][吞吐率：13.59req/s] [内存消耗：2,771.55kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001134s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001558s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000593s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000819s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001187s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000614s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000803s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001014s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000215s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000450s ]
---------------------------------------------------------------
[ 2018-04-19T17:33:23+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.097880s][吞吐率：10.22req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001258s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002825s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000562s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000628s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000392s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000768s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000615s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000189s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000140s ]
---------------------------------------------------------------
[ 2018-04-19T17:33:26+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.071915s][吞吐率：13.91req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003506s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002766s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000601s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001403s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001200s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003068s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000606s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001499s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.002188s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000764s ]
---------------------------------------------------------------
[ 2018-04-19T17:34:02+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.082626s][吞吐率：12.10req/s] [内存消耗：2,771.58kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001438s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001505s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001222s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001210s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001106s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000398s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000361s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000385s ]
---------------------------------------------------------------
[ 2018-04-19T17:34:02+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.075734s][吞吐率：13.20req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002433s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000742s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000205s ]
---------------------------------------------------------------
[ 2018-04-19T17:34:03+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.069643s][吞吐率：14.36req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002154s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000952s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000442s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002551s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001107s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003154s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000751s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.004365s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001106s ]
---------------------------------------------------------------
[ 2018-04-19T17:34:14+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.085324s][吞吐率：11.72req/s] [内存消耗：2,771.58kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010661s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001077s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000721s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001038s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000365s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000443s ]
---------------------------------------------------------------
[ 2018-04-19T17:34:14+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.080153s][吞吐率：12.48req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001223s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000596s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001383s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000598s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002150s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000165s ]
---------------------------------------------------------------
[ 2018-04-19T17:34:15+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.069302s][吞吐率：14.43req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010973s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001266s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001093s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001015s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000612s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000442s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.004204s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001319s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:14+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.079403s][吞吐率：12.59req/s] [内存消耗：2,771.66kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011694s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000612s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000390s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000206s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000319s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:15+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.064758s][吞吐率：15.44req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001725s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000692s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000731s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:16+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.078939s][吞吐率：12.67req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011622s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002865s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000676s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000369s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000431s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000425s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.005512s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000981s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:53+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.056972s][吞吐率：17.55req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001338s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000629s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000582s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000603s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000211s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000249s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000479s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:53+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.057100s][吞吐率：17.51req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001092s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000766s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000596s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000773s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000329s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:59+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.070274s][吞吐率：14.23req/s] [内存消耗：2,604.80kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012306s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001389s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001013s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000374s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000465s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000218s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.001067s ]
---------------------------------------------------------------
[ 2018-04-19T17:35:59+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.090429s][吞吐率：11.06req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005367s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001622s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000688s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001112s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002448s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000954s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000372s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000209s ]
---------------------------------------------------------------
[ 2018-04-19T17:36:29+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.087864s][吞吐率：11.38req/s] [内存消耗：2,771.74kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011018s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001421s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000698s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000934s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000276s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000405s ]
---------------------------------------------------------------
[ 2018-04-19T17:36:29+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.084393s][吞吐率：11.85req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003506s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001611s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000226s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000395s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000312s ]
---------------------------------------------------------------
[ 2018-04-19T17:36:30+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.080984s][吞吐率：12.35req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011039s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002993s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000946s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001135s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001639s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000445s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001998s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001230s ]
---------------------------------------------------------------
[ 2018-04-19T17:36:44+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.064084s][吞吐率：15.60req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012169s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002400s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000681s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000417s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000651s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000420s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001470s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001039s ]
---------------------------------------------------------------
[ 2018-04-19T17:36:55+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.060189s][吞吐率：16.61req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001412s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001016s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000586s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000731s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000341s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000676s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000921s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003329s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001406s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000701s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.003249s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000561s ]
---------------------------------------------------------------
[ 2018-04-19T17:37:51+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.056919s][吞吐率：17.57req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001241s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001056s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001005s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000171s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000290s ]
---------------------------------------------------------------
[ 2018-04-19T17:37:51+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.063939s][吞吐率：15.64req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011098s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000691s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001334s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001155s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000770s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002366s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000401s ]
---------------------------------------------------------------
[ 2018-04-19T17:37:52+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.061739s][吞吐率：16.20req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003383s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002008s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000651s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001338s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000587s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.005672s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000501s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:18+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.058775s][吞吐率：17.01req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001465s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001221s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000620s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000208s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.001010s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:18+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.097378s][吞吐率：10.27req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002521s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001776s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000573s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000785s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000182s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:19+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.080869s][吞吐率：12.37req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003871s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002029s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000731s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000613s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001099s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000928s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002952s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000861s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001480s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000571s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:28+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.085951s][吞吐率：11.63req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001881s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001498s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000761s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001215s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000484s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000245s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000459s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:28+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.079479s][吞吐率：12.58req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001315s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001344s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001708s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000650s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001263s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001113s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001221s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000936s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000126s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:30+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.096417s][吞吐率：10.37req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011270s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001779s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000642s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000689s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001848s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001148s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002187s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000637s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001961s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.004116s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000530s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:54+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.073411s][吞吐率：13.62req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010775s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001289s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000693s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000728s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000411s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001043s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000359s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000275s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000321s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:54+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.092193s][吞吐率：10.85req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002553s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001313s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000566s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003748s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000974s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000168s ]
---------------------------------------------------------------
[ 2018-04-19T17:38:56+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.092371s][吞吐率：10.83req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011915s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002483s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000807s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000734s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000744s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001028s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003822s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001184s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001514s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000494s ]
---------------------------------------------------------------
[ 2018-04-19T17:39:07+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.088610s][吞吐率：11.29req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001342s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001173s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001139s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000408s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000398s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000180s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000395s ]
---------------------------------------------------------------
[ 2018-04-19T17:39:08+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.069691s][吞吐率：14.35req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001467s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001434s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000740s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001185s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000618s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001263s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000853s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001877s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000624s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002293s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000469s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000230s ]
---------------------------------------------------------------
[ 2018-04-19T17:39:09+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.075361s][吞吐率：13.27req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003609s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002319s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001074s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003426s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000896s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001658s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000448s ]
---------------------------------------------------------------
[ 2018-04-19T17:39:21+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.077365s][吞吐率：12.93req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.012844s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003206s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001529s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001861s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001790s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000599s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000357s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001815s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000789s ]
---------------------------------------------------------------
[ 2018-04-19T17:40:39+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.068871s][吞吐率：14.52req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010642s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001336s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000701s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001701s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000674s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001460s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001171s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000183s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000296s ]
---------------------------------------------------------------
[ 2018-04-19T17:40:39+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.103762s][吞吐率：9.64req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001568s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000593s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002327s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001137s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000357s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000188s ]
---------------------------------------------------------------
[ 2018-04-19T17:40:41+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.091182s][吞吐率：10.97req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.003034s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001601s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000637s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001259s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001051s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002599s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001985s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000802s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001902s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000263s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.002295s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001258s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:10+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.084482s][吞吐率：11.84req/s] [内存消耗：2,771.76kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001743s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001348s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000676s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002408s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001090s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000253s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000548s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:10+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.101066s][吞吐率：9.89req/s] [内存消耗：2,522.91kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004932s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001403s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000785s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000739s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000773s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000283s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:11+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.080493s][吞吐率：12.42req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002538s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003082s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001103s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000946s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001346s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001925s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000731s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000927s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000451s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.000765s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000456s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:15+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.070586s][吞吐率：14.17req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002156s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002653s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002016s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000598s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001280s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002347s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001386s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001121s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000238s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000384s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:18+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.076659s][吞吐率：13.04req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011597s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001450s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000881s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001722s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000763s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000345s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000775s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002566s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000739s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000405s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.001002s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.000429s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:23+08:00 ] ::1 ::1 POST /blog/admin/index/loginLog
[ info ] localhost/blog/admin/index/loginLog [运行时间：0.101615s][吞吐率：9.84req/s] [内存消耗：2,508.99kb] [文件加载：51]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'loginLog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '5',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'aid' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->loginLog[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011024s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003289s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000751s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001197s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000591s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003514s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.001133s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003214s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001458s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000722s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000228s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.003278s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `aid` = 1 [ RunTime:0.001726s ]
---------------------------------------------------------------
[ 2018-04-19T17:41:26+08:00 ] ::1 ::1 GET /blog/admin/index/info?adminId=1
[ info ] localhost/blog/admin/index/info?adminId=1 [运行时间：0.078126s][吞吐率：12.80req/s] [内存消耗：2,517.38kb] [文件加载：52]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'info',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'ip_0000=0.0.0.0; PHPSESSID=6jd1hcd7psuitj5mruu0d2cba7',
)
[ info ] [ PARAM ] array (
  'adminId' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Comm->info[ D:\B\AppServ\www\blog\application\admin\controller\Comm.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001773s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.004467s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.001011s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.001235s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000403s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001272s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000837s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002374s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000677s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000239s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000620s ]
---------------------------------------------------------------
[ 2018-04-19T17:48:50+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.037492s][吞吐率：26.67req/s] [内存消耗：1,794.03kb] [文件加载：48]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ VIEW ] D:\B\AppServ\www\blog\thinkphp\tpl\dispatch_jump.tpl [ array (
  0 => 'code',
  1 => 'msg',
  2 => 'data',
  3 => 'url',
  4 => 'wait',
) ]
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:48:51+08:00 ] ::1 ::1 GET /blog/log
[ info ] localhost/blog/log [运行时间：0.137729s][吞吐率：7.26req/s] [内存消耗：2,972.19kb] [文件加载：59]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/log/log/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT file
[ info ] [ RUN ] app\index\controller\Log->log[ D:\B\AppServ\www\blog\application\index\controller\Log.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\log\log.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005628s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.004459s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002311s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002523s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000786s ]
[ sql ] [ SQL ] UPDATE `config`  SET `visit`=visit+1  WHERE  `id` = 1 [ RunTime:0.054052s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002557s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000745s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003237s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000370s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000393s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002447s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002241s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000337s ]
---------------------------------------------------------------
[ 2018-04-19T17:48:51+08:00 ] ::1 ::1 GET /blog/captcha.html
[ info ] localhost/blog/captcha.html [运行时间：0.036820s][吞吐率：27.16req/s] [内存消耗：1,462.28kb] [文件加载：39]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'method',
  'method' => 
  array (
    0 => '\\think\\captcha\\CaptchaController',
    1 => 'index',
  ),
  'var' => 
  array (
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'image/webp,image/*,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
  'id' => NULL,
)
[ info ] [ RUN ] think\captcha\CaptchaController->index[ D:\B\AppServ\www\blog\vendor\topthink\think-captcha\src\CaptchaController.php ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
---------------------------------------------------------------
[ 2018-04-19T17:48:53+08:00 ] ::1 ::1 GET /blog/admin/login/login.html
[ info ] localhost/blog/admin/login/login.html [运行时间：0.040671s][吞吐率：24.59req/s] [内存消耗：2,534.63kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\login\login.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001182s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002581s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000558s ]
---------------------------------------------------------------
[ 2018-04-19T17:48:58+08:00 ] ::1 ::1 POST /blog/admin/login/login
[ info ] localhost/blog/admin/login/login [运行时间：0.247455s][吞吐率：4.04req/s] [内存消耗：2,760.52kb] [文件加载：52]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'login',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'content-length' => '38',
  'accept' => '*/*',
  'origin' => 'http://localhost',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
  'loginName' => 'hekun',
  'loginPassword' => 'hk000520',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Login->login[ D:\B\AppServ\www\blog\application\admin\controller\Login.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010626s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002536s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.001014s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002343s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `loginName` = 'hekun'  AND `status` = 1 LIMIT 1 [ RunTime:0.000587s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.002464s ]
[ sql ] [ SQL ] SELECT * FROM `adminlog` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 1 [ RunTime:0.000600s ]
[ sql ] [ SQL ] INSERT INTO `adminlog` (`aid` , `operation` , `info` , `IP` , `operationStatus`) VALUES (1 , '1' , '登录成功!正在跳转……' , '0.0.0.0' , 1) [ RunTime:0.073658s ]
[ sql ] [ SQL ] UPDATE `admin`  SET `lastLoginTime`='2018-04-19 17:48:58'  WHERE  `loginName` = 'hekun' [ RunTime:0.054755s ]
[ sql ] [ SQL ] UPDATE `admin`  SET `numberOfLogin`=numberOfLogin+1  WHERE  `loginName` = 'hekun' [ RunTime:0.054890s ]
---------------------------------------------------------------
[ 2018-04-19T17:48:59+08:00 ] ::1 ::1 GET /blog/admin/index/index.html
[ info ] localhost/blog/admin/index/index.html [运行时间：0.079910s][吞吐率：12.51req/s] [内存消耗：2,771.57kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/login/login.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->index[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\index.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011228s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003525s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000625s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.003385s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002130s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000243s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002257s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002479s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000602s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `numberOfLogin` FROM `admin` WHERE  `adminId` = 1 LIMIT 1 [ RunTime:0.000457s ]
---------------------------------------------------------------
[ 2018-04-19T17:48:59+08:00 ] ::1 ::1 GET /blog/admin/index/time.html
[ info ] localhost/blog/admin/index/time.html [运行时间：0.067118s][吞吐率：14.90req/s] [内存消耗：2,522.83kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Index->time[ D:\B\AppServ\www\blog\application\admin\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\index\time.html [ array (
  0 => 'conf',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001384s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003051s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.005012s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000720s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003742s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003317s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000692s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003513s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000311s ]
---------------------------------------------------------------
[ 2018-04-19T17:49:09+08:00 ] ::1 ::1 GET /blog/admin/admin/admin.html
[ info ] localhost/blog/admin/admin/admin.html [运行时间：0.182397s][吞吐率：5.48req/s] [内存消耗：2,966.67kb] [文件加载：60]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'admin',
    2 => 'admin',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/index/index.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Admin->Admin[ D:\B\AppServ\www\blog\application\admin\controller\Admin.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\admin\admin.html [ array (
  0 => 'conf',
  1 => 'AdminData',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001620s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003717s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.004237s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000672s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.004087s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003340s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003934s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000747s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000226s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT * FROM `admin` WHERE  `status` = 1 LIMIT 0,6 [ RunTime:0.000422s ]
---------------------------------------------------------------
[ 2018-04-19T17:49:10+08:00 ] ::1 ::1 GET /blog/admin/auth_rule/lst.html
[ info ] localhost/blog/admin/auth_rule/lst.html [运行时间：0.204178s][吞吐率：4.90req/s] [内存消耗：3,228.24kb] [文件加载：59]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'auth_rule',
    2 => 'lst',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/admin/admin.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\AuthRule->Lst[ D:\B\AppServ\www\blog\application\admin\controller\AuthRule.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\auth_rule\lst.html [ array (
  0 => 'conf',
  1 => 'AuthRule',
  2 => 'arcount',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010867s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.004722s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000908s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002707s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003110s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000368s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002536s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000955s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003660s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `auth_rule` [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` WHERE  `status` = 1 ORDER BY sort desc [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000452s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000471s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000621s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000328s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000422s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000644s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000435s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000404s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000334s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `auth_rule` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000412s ]
---------------------------------------------------------------
[ 2018-04-19T17:49:12+08:00 ] ::1 ::1 GET /blog/admin/auth_group/lst.html
[ info ] localhost/blog/admin/auth_group/lst.html [运行时间：0.120006s][吞吐率：8.33req/s] [内存消耗：3,215.56kb] [文件加载：59]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'auth_group',
    2 => 'lst',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/auth_rule/lst.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\AuthGroup->lst[ D:\B\AppServ\www\blog\application\admin\controller\AuthGroup.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\auth_group\lst.html [ array (
  0 => 'conf',
  1 => 'AuthGroupData',
  2 => 'agc',
  3 => 'AuthRuleLst',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010727s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002504s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002135s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.003570s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000737s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003402s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002840s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000245s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `auth_group` [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT * FROM `auth_group` WHERE  `status` = 1 [ RunTime:0.000383s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `auth_group` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `auth_rule` [ RunTime:0.001492s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` WHERE  `status` = 1 ORDER BY sort desc [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000400s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000254s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000188s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000227s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000314s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000337s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000624s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000371s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000202s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000247s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000308s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000198s ]
---------------------------------------------------------------
[ 2018-04-19T18:17:34+08:00 ] ::1 ::1 GET /blog/home
[ info ] localhost/blog/home [运行时间：0.087467s][吞吐率：11.43req/s] [内存消耗：2,936.64kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 'index/index/index/index',
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/log',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->index[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\index.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
  9 => 'slider',
) ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001507s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.004687s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000759s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.002611s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.002486s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000488s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002458s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.001198s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.001160s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000705s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002714s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000484s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.002346s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.002348s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT `a`.*,`u`.`userName`,`c`.`cateName`,`c`.`cateId` FROM `article` `a` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` WHERE  `a`.`status` = 1  AND `a`.`slider` = 1 ORDER BY a.addTime asc LIMIT 5 [ RunTime:0.002628s ]
---------------------------------------------------------------
[ 2018-04-19T18:17:34+08:00 ] ::1 ::1 GET /blog/index/index/time.html
[ info ] localhost/blog/index/index/time.html [运行时间：0.059081s][吞吐率：16.93req/s] [内存消耗：2,774.70kb] [文件加载：54]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'time',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/home',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->time[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/index\view\index\time.html [ array (
  0 => 'conf',
  1 => 'cate',
  2 => 'about',
  3 => 'heatArticles',
  4 => 'newArticles',
  5 => 'praiseArticles',
  6 => 'friendshiplink',
  7 => 'tags',
  8 => 'message',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001545s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001157s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000581s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.001255s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000694s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000733s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000750s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000651s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.000637s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000634s ]
---------------------------------------------------------------
[ 2018-04-19T18:17:35+08:00 ] ::1 ::1 GET /blog/index/index/flow?page=1
[ info ] localhost/blog/index/index/flow?page=1 [运行时间：0.072179s][吞吐率：13.85req/s] [内存消耗：3,131.66kb] [文件加载：55]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'index',
    1 => 'index',
    2 => 'flow',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://localhost/blog/home',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\index\controller\Index->flow[ D:\B\AppServ\www\blog\application\index\controller\Index.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002921s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001811s ]
[ sql ] [ SQL ] SELECT * FROM `config` LIMIT 1 [ RunTime:0.000641s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `cate` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `aboutme` [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `aboutme` WHERE  `meId` = 1 LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY articleClicks desc LIMIT 5 [ RunTime:0.001394s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY addTime desc LIMIT 5 [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `article` WHERE  `status` = 1 ORDER BY praiseClicks desc LIMIT 5 [ RunTime:0.000645s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `friendshiplink` WHERE  `status` = 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT DISTINCT  `articleTags` FROM `article` WHERE  `status` = 1 [ RunTime:0.000574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `message` [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT `m`.*,`u`.`userName` FROM `message` `m` INNER JOIN `user` `u` ON `u`.`userId`=`m`.`messageAtor` WHERE  `m`.`status` = 1 LIMIT 5 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SELECT * FROM `cate` WHERE  `status` = 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SELECT `a`.*,`u`.`userName`,`c`.`cateName`,`c`.`cateId` FROM `article` `a` INNER JOIN `user` `u` ON `a`.`ator`=`u`.`userId` INNER JOIN `cate` `c` ON `a`.`articleCate`=`c`.`cateId` WHERE  `a`.`status` = 1 LIMIT 0,13 [ RunTime:0.000757s ]
---------------------------------------------------------------
[ 2018-04-19T18:32:36+08:00 ] ::1 ::1 GET /blog/admin/auth_group/lst.html
[ info ] localhost/blog/admin/auth_group/lst.html [运行时间：0.125282s][吞吐率：7.98req/s] [内存消耗：3,046.97kb] [文件加载：57]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'auth_group',
    2 => 'lst',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/auth_group/lst.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\AuthGroup->lst[ D:\B\AppServ\www\blog\application\admin\controller\AuthGroup.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\auth_group\lst.html [ array (
  0 => 'conf',
  1 => 'AuthGroupData',
  2 => 'agc',
  3 => 'AuthRuleLst',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001528s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.003038s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000969s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002473s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.002284s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.003287s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.003198s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000398s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `auth_group` [ RunTime:0.001264s ]
[ sql ] [ SQL ] SELECT * FROM `auth_group` WHERE  `status` = 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `auth_group` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `auth_rule` [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` WHERE  `status` = 1 ORDER BY sort desc [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000438s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000374s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000435s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000397s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000383s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000395s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000432s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000765s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000476s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000592s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000359s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000357s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000377s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT * FROM `auth_rule` [ RunTime:0.000681s ]
---------------------------------------------------------------
[ 2018-04-19T18:32:40+08:00 ] ::1 ::1 GET /blog/admin/admin/adminlog.html
[ info ] localhost/blog/admin/admin/adminlog.html [运行时间：0.091276s][吞吐率：10.96req/s] [内存消耗：2,972.00kb] [文件加载：60]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'admin',
    2 => 'adminlog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/auth_group/lst.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Admin->adminLog[ D:\B\AppServ\www\blog\application\admin\controller\Admin.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\admin\adminlog.html [ array (
  0 => 'conf',
  1 => 'aLogCount',
  2 => 'aLog',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.010605s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.002744s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.002202s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000982s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.002270s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.002136s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000641s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000333s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `adminlog` `a` INNER JOIN `admin` `ad` ON `a`.`aid`=`ad`.`adminId` WHERE  `a`.`status` = 1 LIMIT 1 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT `a`.*,`ad`.`adminName` FROM `adminlog` `a` INNER JOIN `admin` `ad` ON `a`.`aid`=`ad`.`adminId` WHERE  `a`.`status` = 1 LIMIT 0,18 [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `adminlog` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000485s ]
---------------------------------------------------------------
[ 2018-04-19T18:35:17+08:00 ] ::1 ::1 GET /blog/admin/admin/adminlog.html
[ info ] localhost/blog/admin/admin/adminlog.html [运行时间：0.077665s][吞吐率：12.88req/s] [内存消耗：2,970.88kb] [文件加载：60]
[ info ] [ LANG ] D:\B\AppServ\www\blog\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'admin',
    2 => 'adminlog',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'localhost',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'referer' => 'http://localhost/blog/admin/auth_group/lst.html',
  'accept-encoding' => 'gzip, deflate, gzip, br',
  'accept-language' => 'zh-CN,zh;q=0.8',
  'cookie' => 'PHPSESSID=9huqsm8lid8kd9ceko1irfrg00; ip_0000=0.0.0.0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\controller\Admin->adminLog[ D:\B\AppServ\www\blog\application\admin\controller\Admin.php ]
[ info ] [ VIEW ] D:\B\AppServ\www\blog/application/admin\view\admin\adminlog.html [ array (
  0 => 'conf',
  1 => 'aLogCount',
  2 => 'aLog',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.011059s ] mysql:host=localhost;dbname=blog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `config` [ RunTime:0.001202s ]
[ sql ] [ SQL ] SELECT * FROM `config` WHERE  `id` = 1 LIMIT 1 [ RunTime:0.000654s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `comment` [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `comment` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `admin` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `admin` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `article` [ RunTime:0.001476s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `article` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `friendshiplink` [ RunTime:0.001413s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `friendshiplink` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000650s ]
[ sql ] [ SQL ] select version(); [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `adminlog` [ RunTime:0.002272s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `adminlog` `a` INNER JOIN `admin` `ad` ON `a`.`aid`=`ad`.`adminId` WHERE  `a`.`status` = 1 LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT `a`.*,`ad`.`adminName` FROM `adminlog` `a` INNER JOIN `admin` `ad` ON `a`.`aid`=`ad`.`adminId` WHERE  `a`.`status` = 1 LIMIT 0,18 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `adminlog` WHERE  `status` = 1 LIMIT 1 [ RunTime:0.000463s ]
